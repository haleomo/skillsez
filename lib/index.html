<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Skills Ez AI-crafted learning plans</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
</head>
<body>
    <script>
        // Set environment configuration - change to 'prod' for production
        window.ENVIRONMENT = 'prod';
    </script>
    <div class="main">
        <header>
            <nav>
                <div class="brand">
                    <span>Skills Ez</span>
                    <small>AI-crafted learning plans</small>
                </div>
                <!--<div><a href="/">Home</a></div>-->
                <div><a href="pages/about.html">About</a></div>
                <div><a href="pages/help.html">
                    <img src="assets/images/icons8-help-48.png" alt="Example Website Icon" style="width:42px;height:42px;">
                </a></div>
                <div class="dropdown">
                <button class="dropbtn">Options</button>
                <div class="dropdown-content">
                    <a href="#" onclick="viewSavedPlans()">Open Saved Plan</a>
                    <a href="#" onclick="editProfile()">Edit Profile</a>
                </div>
                </div>
            </nav>
        </header>

        <section class="hero-section">
            <div class="hero">
                <img src="assets/images/logo.svg" width="240" height="180" alt="Skills Ez logo">
                <h1>Build skills with clarity</h1>
                <p>Skills Ez crafts AI-powered learning plans so you can focus on doing the work, not guessing the path.</p>
                <div class="cta">
                    <a href="pages/about.html">How it works</a>
                </div>
            </div>

            <div class="form-card">
                <div class="form-header">
                    <h2>Describe your learning profile</h2>
                    <p>We will use these details to craft an optimized AI prompt for your plan.</p>
                </div>
                <form id="learningForm">
                    <label for="sourceExpertDiscipline">
                        <span>Source Expert Discipline</span>
                        <input type="text" id="sourceExpertDiscipline" name="sourceExpertDiscipline" placeholder="Software Engineering" required>
                    </label>
                    <label for="subjectEducationLevel">
                        <span>Your Education Level (Recommended for professional development or career advancement)</span>
                        <input type="text" id="subjectEducationLevel" name="subjectEducationLevel" placeholder="Bachelor's">
                    </label>
                    <label for="subjectDiscipline">
                        <span>Your Discipline</span>
                        <input type="text" id="subjectDiscipline" name="subjectDiscipline" placeholder="Computer Science" required>
                    </label>
                    <label for="subjectWorkExperience" title="Add your relevant experience with number of years of experience">
                        <span>Your Relevent Experience</span>
                        <input type="text" id="subjectWorkExperience" name="subjectWorkExperience" placeholder="2 years web development" title="Add the relevant experience with number of years (e.g., 2 years web development, Novice skier)" required>
                    </label>
                    <label for="topic">
                        <span>Topic</span>
                        <input type="text" id="topic" name="topic" placeholder="Flutter Development" required>
                    </label>
                    <label for="goal">
                        <span>Goal (e.g., career advancement, general knowledge, interview preparation, excellent host, epic skier)</span>
                        <input type="text" id="goal" name="goal" placeholder="career advancement" required>
                    </label>
                    <label for="role">
                        <span>Role (e.g., planner, engineer, coder)</span>
                        <input type="text" id="role" name="role" placeholder="mobile developer">
                    </label>
                    <button class="submit-btn" type="submit">Generate learning plan</button>
                </form>
            </div>

            <div id="formSubmitError" class="custom-alert error-alert" style="display:none;" >
                <span class="close-btn" onclick="closeAlert('formSubmitError')">&times;</span>
                <h2 id="alertTitle" class="alert-title"></h2>
            </div>

            <div id="formSubmitSuccess" class="custom-alert success-alert" style="display:none;" >
                <span class="close-btn" onclick="closeAlert('formSubmitSuccess')">&times;</span>
                <h2 id="alertTitle" class="alert-title"></h2>
            </div>

            <!-- Learning Plan Results Section -->
            <div id="learningPlanResults" class="learning-plan-results" style="display:none;">
                <div class="results-header">
                    <h2 id="planTopic"></h2>
                    <p id="planMeta"></p>
                    <div class="results-actions">
                        <button class="action-btn save-btn" id="savePlanBtn">
                            <span>üíæ</span> Save Plan
                        </button>
                        <button class="action-btn print-btn" onclick="printLearningPlan()">
                            <span>üñ®Ô∏è</span> Print Plan
                        </button>
                        <button class="action-btn new-plan-btn" onclick="createNewPlan()">
                            <span>‚ûï</span> New Plan
                        </button>
                    </div>
                </div>
                <div id="planContent" class="plan-content"></div>
            </div>

            <div class="pillars">
                <div class="pillar">
                    <h3>Tell us the skill</h3>
                    <p>Describe what you want to learn‚Äîanything from TypeScript to watercolor.</p>
                </div>
                <div class="pillar">
                    <h3>We draft the plan</h3>
                    <p>Skills Ez builds an optimized AI prompt that generates a sequenced roadmap.</p>
                </div>
                <div class="pillar">
                    <h3>You execute with focus</h3>
                    <p>Follow milestones, stay accountable, and iterate as you grow.</p>
                </div>
            </div>
        </section>

        <footer>
            <div class="footer-content">
                <span>Skills Ez</span>
                <span>AI-crafted learning plans</span>
            </div>
        </footer>

    </div>
        <div id="loadingOverlay" class="loading-overlay" style="display:none;">
        <div class="spinner"></div>
        <p>Generating your learning plan...</p>
    </div>

    <!-- Save Plan Name Modal -->
    <div id="savePlanNameModal" class="modal" style="display:none;">
        <div class="modal-content">
            <h2>Save Your Learning Plan</h2>
            <p>Give your learning plan a name for easy reference:</p>
            <form id="savePlanNameForm">
                <label for="planName">
                    <span>Plan Name</span>
                    <input type="text" id="planName" name="planName" placeholder="e.g., Flutter Development - Career Advancement" required>
                </label>
                <div class="modal-actions">
                    <button type="button" class="btn-decline" id="cancelSaveBtn">Cancel</button>
                    <button type="submit" class="btn-save">Save Plan</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Registration Modal -->
    <div id="registrationModal" class="modal" style="display:none;">
        <div class="modal-content">
            <h2>Welcome to Skills Ez!</h2>
            <p>Register to save your learning plans and track your progress.</p>
            <form id="registrationForm">
                <label for="userEmail">
                    <span>Email Address</span>
                    <input type="email" id="userEmail" name="email" placeholder="your@email.com" required>
                </label>
                <label for="userLastName">
                    <span>Last Name</span>
                    <input type="text" id="userLastName" name="lastName" placeholder="Smith" required>
                </label>
                <div class="modal-actions">
                    <button type="button" class="btn-decline" id="declineBtn">Decline</button>
                    <button type="submit" class="btn-save">Save</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Saved Plans Modal -->
    <div id="savedPlansModal" class="modal" style="display:none;">
        <div class="modal-content saved-plans-modal">
            <h2>Select a saved plan to load it</h2>
            <p>Saved Plans for <span id="savedPlansUserEmail" class="savedPlansEmail"></span></p>
            <div id="savedPlansBody">
                <div id="savedPlansList" class="saved-plans-list"></div>
                <div id="savedPlansEmpty" class="saved-plans-empty" style="display:none;">No saved plans found.</div>
                <div id="savedPlansError" class="saved-plans-error" style="display:none;"></div>
            </div>
            <div class="modal-actions">
                <button type="button" class="btn-decline" id="closeSavedPlansBtn">Close</button>
            </div>
        </div>
    </div>

    <!-- Edit Profile Modal -->
    <div id="editProfileModal" class="modal" style="display:none;">
        <div class="modal-content">
            <h2>Edit Profile</h2>
            <form id="editProfileForm">
                <label for="editEmail">
                    <span>Email</span>
                    <input type="email" id="editEmail" name="email" required>
                </label>
                <label for="editLastName">
                    <span>Last Name</span>
                    <input type="text" id="editLastName" name="lastName" required>
                </label>
                <div class="modal-actions">
                    <button type="submit" class="btn-confirm">Save Changes</button>
                    <button type="button" class="btn-decline" id="closeEditProfileBtn">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Debug: Manual trigger button (remove in production) 
    <button id="debugShowRegistration" style="position: fixed; bottom: 10px; right: 10px; z-index: 3000; padding: 10px; background: #01589B; color: white; border: none; border-radius: 5px; cursor: pointer;">
        Show Registration
    </button>
    -->

    <script src="main.js"></script>
    <script>
        // Debug button handler
        document.addEventListener('DOMContentLoaded', function() {
            const debugBtn = document.getElementById('debugShowRegistration');
            if (debugBtn) {
                debugBtn.addEventListener('click', function() {
                    console.log('Debug button clicked');
                    showRegistrationModal();
                });
            }
        });
    </script>
</body>
</html>
